{
  "name": "{{.dir}}",
  "author": "{{input `author`}}",
  "description": "Indigo Tendermint Node test cluster",
  "license": "SEE LICENSE IN LICENSE",
  "scripts": {
{{- if eq (input `useGit`) `y` }}
    "init": "strat run tm:init && git init && git add .",
    "init:linux": "strat run tm:init && strat run tm:post-init:linux && git init && git add .",
{{- else }}
    "init": "strat run tm:init",
{{- end}}
    "tm:init": "sudo ./scripts/tminit.sh",
    "tm:post-init:linux": "for i in `seq {{input `clusterSize`}}`; do docker run -it --rm -v \"$(pwd)/tmapp$i/tendermint:/tendermint\" -v \"$(pwd)/arch/linux/fix-tendermint-files-ownership.sh:/tmp/fix-tendermint-files-ownership.sh\" -e \"UID=$(id -u)\" -e \"GID=$(id -g)\" --entrypoint=/tmp/fix-tendermint-files-ownership.sh tendermint/tendermint:0.13.0 init; done",
    "compose": "docker-compose -p {{input `author`}}-dev -f docker-compose.yml -f docker-compose.dev.yml",
    "build": "strat run compose build",
    "up": "strat run build && strat run compose up",
    "down": "strat run compose down",
    "pull": "strat run compose pull",
    "push": "strat run compose push"
  }
}
